<noheader-layout>
  <div class="">
    <div class="row">
      <div class="col-lg-12">
        <h2 class="title text-center">Log In</h2>
        <p class="text-center">
          Need a <strong>ConnectHealth</strong> account?<a [routerLink]="['/signup']" class="signup"> Create an account</a>
        </p>
        <div class="text-center">
          <img src="../assets/imgs/doctorsimgs.png"/>
        </div>
      </div>
    </div>
    <div class="row" style="position: relative">
      <div class="col-lg-12 or-element">
        <div class="content">
          <p class="text-center title">
            OR
          </p>
        </div>
      </div>
      <div class="col-lg-6 col-lg-push-6">
        <div class="row">
          <div class="col-lg-12">
            <div class="content">
              <p class="text-center title">
                Log In to your account
              </p>
            </div>
          </div>
        </div>
        <div class="row border-left">
          <div class="col-lg-12">
            <div class="content">
              <ch-alert [type]="'danger'" [message]="serverErrorMessage"></ch-alert>

              <form [formGroup]="loginForm" (ngSubmit)="onSubmit(loginForm.value)">

                <div class="form-group"
                     [ngClass]="{'has-error': !loginForm.controls['username'].valid && loginForm.controls['username'].touched}">
                  <input
                    type="text"
                    id="usernameInput"
                    class="form-control"
                    autofocus="true"
                    autocomplete="username"
                    placeholder="Your email"
                    [formControl]="loginForm.controls['username']">
                  <p class="help-block"
                     *ngIf="loginForm.controls['username'].hasError('required') && loginForm.controls['username'].touched">
                    Username is required</p>
                </div>

                <div class="form-group"
                     [ngClass]="{'has-error': !loginForm.controls['password'].valid && loginForm.controls['password'].touched}">
                  <ch-show-password>
                    <input
                      type="password"
                      id="passwordInput"
                      class="form-control"
                      show-password-input
                      placeholder="Your password"
                      [formControl]="loginForm.controls['password']">
                  </ch-show-password>
                  <p class="help-block"
                     *ngIf="loginForm.controls['password'].hasError('required') && loginForm.controls['password'].touched">
                    Password is required</p>
                </div>

                <button type="submit"
                        [message]="'Loggin in'"
                        [inprogress]="submissionInprogress"
                        class="btn btn-default btn-block"
                        [disabled]="!loginForm.valid">Login
                </button>

              </form>

              <div class="text-center">
                <a [routerLink]="['/forgotPassword']">Forgot Your Password?</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-6 col-lg-pull-6">
        <div class="row">
          <div class="col-lg-12">
            <div class="content">
              <p class="text-center title">
                Log In with your social networks
              </p>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-12">
            <div class="content">
              <fb-login [text]="'Log In With Facebook'"
                        analyticsOn="click"
                        analyticsEvent="LoginWithFacebookClick"
                        analyticsCategory="LoginOption"></fb-login>

              <google-login [text]="'Log In With Google'"
                            analyticsOn="click"
                            analyticsEvent="LoginWithGmailClick"
                            analyticsCategory="LoginOption"></google-login>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</noheader-layout>
